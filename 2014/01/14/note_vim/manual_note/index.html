<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Vim笔记【整理】 | Central Perk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="[TOC]
模式
Vim的模式跟Emacs的模式是完全不同的概念，指的是对每个打开的窗口都有4个模式：

普通：初始模式，可进行浏览，复制，删除这些操作；
编辑：用来做文本输入；
可视：用来进行快速的移动，选择文本；
命令：退出、保存等操作；

这个应该是Vim最独特的一点了，正因为有编辑模式之外的模式，所以字母键就可以用来作快捷键，快捷键很是灵活简洁啊。">
<meta property="og:type" content="article">
<meta property="og:title" content="Vim笔记【整理】">
<meta property="og:url" content="http://yoursite.com/2014/01/14/note_vim/manual_note/">
<meta property="og:site_name" content="Central Perk">
<meta property="og:description" content="[TOC]
模式
Vim的模式跟Emacs的模式是完全不同的概念，指的是对每个打开的窗口都有4个模式：

普通：初始模式，可进行浏览，复制，删除这些操作；
编辑：用来做文本输入；
可视：用来进行快速的移动，选择文本；
命令：退出、保存等操作；

这个应该是Vim最独特的一点了，正因为有编辑模式之外的模式，所以字母键就可以用来作快捷键，快捷键很是灵活简洁啊。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vim笔记【整理】">
<meta name="twitter:description" content="[TOC]
模式
Vim的模式跟Emacs的模式是完全不同的概念，指的是对每个打开的窗口都有4个模式：

普通：初始模式，可进行浏览，复制，删除这些操作；
编辑：用来做文本输入；
可视：用来进行快速的移动，选择文本；
命令：退出、保存等操作；

这个应该是Vim最独特的一点了，正因为有编辑模式之外的模式，所以字母键就可以用来作快捷键，快捷键很是灵活简洁啊。">

  
    <link rel="alternative" href="/atom.xml" title="Central Perk" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Central Perk</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Ignorance is a rare rare blessing~</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="yoursite.com">
        </form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-note_vim/manual_note" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/14/note_vim/manual_note/" class="article-date">
  <time datetime="2014-01-14T04:53:09.000Z" itemprop="datePublished">Jan 14 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Vim笔记【整理】
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="模式">模式</h1>
<p>Vim的模式跟Emacs的模式是完全不同的概念，指的是对每个打开的窗口都有4个模式：</p>
<ul>
<li>普通：初始模式，可进行浏览，复制，删除这些操作；</li>
<li>编辑：用来做文本输入；</li>
<li>可视：用来进行快速的移动，选择文本；</li>
<li>命令：退出、保存等操作；</li>
</ul>
<p>这个应该是Vim最独特的一点了，正因为有编辑模式之外的模式，所以字母键就可以用来作快捷键，快捷键很是灵活简洁啊。</p>
<a id="more"></a>

<p>普通模式为主模式，目测Vim里面基本就是普通模式跟编辑模式来回切换，所以esc键会用的非常多，使用频率估计堪比Emacs的ctrl。</p>
<p>移动：</p>
<ul>
<li>hjkl分别为光标的左下上右移动；</li>
<li>C-b，C-f分别为上下翻页；</li>
<li>上面的都太弱了，看看词的移动；</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">	   ge      b	  w				e</div><div class="line">	   &lt;-     &lt;-	 <span class="comment">---&gt;			       ---&gt;</span></div><div class="line">This is-<span class="operator">a</span> <span class="built_in">line</span>, <span class="operator">with</span> special/separated/<span class="keyword">words</span> (<span class="operator">and</span> some more). ~</div><div class="line">   &lt;<span class="comment">----- &lt;-----	 --------------------&gt;	       -----&gt;</span></div><div class="line">	 <span class="variable">gE</span>      B			 W			 E</div></pre></td></tr></table></figure>

<p>E和W表示连续字符的移动，中文这个也当连续字符了。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">	  ^</div><div class="line">     &lt;<span class="comment">------------</span></div><div class="line">.....This <span class="keyword">is</span> a line <span class="keyword">with</span> example text ~</div><div class="line">&lt;<span class="comment">-----------------   ---------------&gt;</span></div><div class="line">	<span class="number">0</span>		   $</div><div class="line"><span class="keyword">To</span> err <span class="keyword">is</span> human.  <span class="keyword">To</span> really foul up you need a computer. ~</div><div class="line"><span class="comment">----------&gt;---------------&gt;</span></div><div class="line">    fh		 fy</div><div class="line"><span class="keyword">To</span> err <span class="keyword">is</span> human.  <span class="keyword">To</span> really foul up you need a computer. ~</div><div class="line">	  <span class="comment">---------------------&gt;</span></div><div class="line">		   <span class="number">3</span>fl</div><div class="line"><span class="keyword">To</span> err <span class="keyword">is</span> human.  <span class="keyword">To</span> really foul up you need a computer. ~</div><div class="line">	  &lt;<span class="comment">---------------------</span></div><div class="line">		    Fh</div></pre></td></tr></table></figure>

<p>f表示find，t表示to，大写的表示反向。这四个命令可以用’;’和’,’重复以及反向重复。只能查找一个单词比较可惜，不过亮点是对中文有效，也就是可以查找输入法打出来的字，这个反而是在中文里更实用了。</p>
<p>命令前可加数字前缀，表示重复次数，这里就已经可以形成很多组合了，已经体现出智能来了。</p>
<p>注：光标移动方面的命令大全可以参考Vim手册的|Q_lr|和|Q_ud|。</p>
<h1 id="移动和滚屏">移动和滚屏</h1>
<p>光标的移动是最基本的操作，还是应该多记记，强化一下：</p>
<ul>
<li>H,M,L—head,middle,last分别可以移动到当前视图的头、中、尾行；</li>
<li>xxxG为移动到xxx行，G是大写。另，G为跳到末行，gg为到首行；</li>
</ul>
<p>下面是滚屏，滚屏是移动屏幕不是移动光标：</p>
<ul>
<li>C-E和C-Y为上滚和下滚单行——不知道为啥下滚滚不了，大写小写都不行；</li>
<li>C-U和C-D为滚半屏，感觉比C-F和C-B要实用；</li>
<li>zz为当前光标所在行滚到中间，这个应该是最常用的，相关的还有zt，zb。</li>
</ul>
<p>注：滚屏方面的命令大全可以参考Vim手册的|Q_sc|。</p>
<h1 id="寄存器">寄存器</h1>
<p>一共有三种用途：</p>
<ul>
<li>位置标记<ul>
<li>设置标记是”m[x]”，[x]可以是[a-zA-Z]，然后跳转到这个位置是” ‘[x] “，[x]的定义相同。值得注意的是，[a-z]只能是文件内部的跳转，[A-Z]可以实现文件间的跳转，这也太犀利了。。。</li>
<li>“:marks”可以查看有哪些位置标记</li>
</ul>
</li>
<li>键盘宏<ul>
<li>记录宏的操作是”q[x]”—&gt;”键盘操作”—&gt;’q’，这样就把一组操作记在了寄存器[x]里面；</li>
<li>运行宏的操作是”@[x]”，一次运行之后再按”@@”是运行上一个宏[x]，然后这个可以带数字前缀，批量修改文本的利器啊；</li>
<li>需要注意光标位置的定位问题，要多用’/‘查找定位，还有句首句尾定位；</li>
<li>‘C-a’和’C-x’可以分别对数值进行加1减1操作，这个好有用啊，相当与一个参数了；</li>
<li>又一个大招，修改宏的内容：</li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Suppose you have recorded a few commands in register n.  When you <span class="operator"><span class="keyword">execute</span></span></div><div class="line">this <span class="keyword">with</span> <span class="string">"@n"</span> you notice you did something wrong.  You could try recording</div><div class="line">again, but perhaps you will make another mistake.  Instead, <span class="keyword">use</span> this trick:</div><div class="line">	G			<span class="keyword">Go</span> <span class="keyword">to</span> the <span class="keyword">end</span> <span class="keyword">of</span> the file.</div><div class="line">	o&lt;Esc&gt;			<span class="keyword">Create</span> an empty line.</div><div class="line">	<span class="string">"np			Put the text from the n register.  You now see</span></div><div class="line">				the commands you typed as text in the file.</div><div class="line">	{edits}			Change the commands that were wrong.  This is</div><div class="line">				just like editing text.</div><div class="line">	0			Go to the start of the line.</div><div class="line">	"ny$			Yank the corrected commands <span class="keyword">into</span> the n</div><div class="line">				register.</div><div class="line">	dd			<span class="keyword">Delete</span> the scratch line.</div><div class="line"><span class="keyword">Now</span> you can <span class="keyword">execute</span> the corrected commands <span class="keyword">with</span> <span class="string">"@n"</span>.  (<span class="keyword">If</span> your recorded</div><div class="line">commands include line breaks, adjust the <span class="keyword">last</span> two items <span class="keyword">in</span> the example <span class="keyword">to</span></div><div class="line">include <span class="keyword">all</span> the <span class="keyword">lines</span>.)</div></pre></td></tr></table></figure>

<p>这里可以看出宏寄存器和剪切板寄存器是共享的，而标记寄存器是独立的。可能当时设计的时候本意是要都设计成独立的，但是这一条的这个功能刚好可以巧妙的实现了对键盘宏内容的修改，无心插柳啊。以上纯属猜测。</p>
<ul>
<li>剪切板缓存<ul>
<li>剪切\复制操作为’ “[R] ‘+”剪切\复制操作”，粘贴操作为’ “[R] ‘+”粘贴操作”；<ul>
<li>大写字母和小写字母指的是同一个寄存器，但是连续使用小写字母表示复制，连续使用大写字母表示内容追加。</li>
</ul>
</li>
<li>要使用系统剪切板的话就用” “* “+”剪切\复制\粘贴操作”，或者是” “+ “+”剪切\复制\粘贴操作”。’*‘是表示当前选择区，’+’表示“真”剪切板</li>
</ul>
</li>
</ul>
<p>Vim的操作咋看之下挺乱的，其实稍微深入了解一下的话就会发现其实还是挺有规律的。</p>
<h1 id=":behave">:behave</h1>
<p><code>:behave</code>原来是用来定制鼠标行为的，困扰了好久。。。</p>
<blockquote>
<p>Standards are wonderful.  In Microsoft Windows, you can use the mouse to<br>select text in a standard manner.  The X Window system also has a standard<br>system for using the mouse.  Unfortunately, these two standards are not the<br>same.<br>   Fortunately, you can customize Vim.  You can make the behavior of the mouse<br>work like an X Window system mouse or a Microsoft Windows mouse.  The following<br>command makes the mouse behave like an X Window mouse: &gt;<br>    :behave xterm<br>The following command makes the mouse work like a Microsoft Windows mouse: &gt;<br>    :behave mswin</p>
</blockquote>
<h1 id="substitute和global">substitute和global</h1>
<p>substitute命令可以实现连续的替换，其实就是替换功能，不过比较灵活比较智能。命令的格式为：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:[range]substitute/<span class="keyword">from</span>/<span class="keyword">to</span>/[<span class="keyword">flags</span>]</div></pre></td></tr></table></figure>

<p>这是一个命令模式的操作，substitute可以用’s’缩写替换，from字符可以用正则表达式，间隔符’/‘还可以用’+’或’=’替代。</p>
<p>[range]表示范围，</p>
<table>
<thead>
<tr>
<th>[range]</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>缺省</td>
<td>只作用与当前行</td>
</tr>
<tr>
<td>%</td>
<td>作用于所有行</td>
</tr>
<tr>
<td>n,m</td>
<td>作用与n至m行，n和m可以扩展哦：用’.’表示当前行，用’$’表示最末行，所以’%’相当于”1,$”；n和m都可以是正则表达式； 可以是标记’m1,’m2； 可以用+-指定行偏移以扩展或缩小相对范围</td>
</tr>
<tr>
<td>n</td>
<td>作于与第n行</td>
</tr>
</tbody>
</table>
<p>[flags]表示模式：</p>
<table>
<thead>
<tr>
<th>[flags]</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>缺省</td>
<td>对应一行的第一个匹配点</td>
</tr>
<tr>
<td>g</td>
<td>对应匹配行的所有匹配点</td>
</tr>
<tr>
<td>p</td>
<td>执行时打印最后一个被修改的行</td>
</tr>
<tr>
<td>c</td>
<td>确认模式，就是query-replace，每次匹配会有多个选项选择</td>
</tr>
</tbody>
</table>
<p>global命令的格式为：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:[range]<span class="built_in">global</span>(g)/(+|=){patten}/(+|=){<span class="command"><span class="keyword">command</span>}</span></div></pre></td></tr></table></figure>

<p>顾名思义，就是找到pattern的匹配位置，然后执行命令command</p>
<h1 id="高级跳转">高级跳转</h1>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">You are halfway editing a <span class="type">file</span> <span class="keyword">and</span> <span class="keyword">it</span>'s <span class="property">time</span> <span class="keyword">to</span> leave <span class="keyword">for</span> holidays.  You <span class="keyword">exit</span></div><div class="line">Vim <span class="keyword">and</span> go enjoy yourselves, forgetting all <span class="keyword">about</span> your work.  After a couple</div><div class="line"><span class="keyword">of</span> weeks you start Vim, <span class="keyword">and</span> type:</div><div class="line">&gt;'<span class="number">0</span></div><div class="line">And you are right <span class="keyword">back</span> <span class="keyword">where</span> you left Vim.  So you can <span class="keyword">get</span> <span class="function_start"><span class="keyword">on</span></span> <span class="keyword">with</span> your work.</div><div class="line">   Vim creates a mark each <span class="property">time</span> you <span class="keyword">exit</span> Vim.  The <span class="keyword">last</span> one <span class="keyword">is</span> '<span class="number">0.</span>  The</div><div class="line">position <span class="keyword">that</span> '<span class="number">0</span> pointed <span class="keyword">to</span> <span class="keyword">is</span> made '<span class="number">1.</span>  And '<span class="number">1</span> <span class="keyword">is</span> made <span class="keyword">to</span> '<span class="number">2</span>, <span class="keyword">and</span> so forth.</div><div class="line">Mark '<span class="number">9</span> <span class="keyword">is</span> lost.</div><div class="line">   The |:marks| command <span class="keyword">is</span> useful <span class="keyword">to</span> find out <span class="keyword">where</span> '<span class="number">0</span> <span class="keyword">to</span> '<span class="number">9</span> will take you.</div></pre></td></tr></table></figure>

<p>这个功能真是实用，新发现。</p>
<p>单引号跳转果然是高阶跳转，小小的总结一下：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘[ or ‘]</td>
<td>跳转到前一次修改处的第一或最后一个字符</td>
</tr>
<tr>
<td>‘&lt; or ‘&gt;</td>
<td>跳转到前一次选择的可视区的第一行（字符）或最后一行（字符）</td>
</tr>
<tr>
<td>‘’</td>
<td>跳转到前一次跳转的位置</td>
</tr>
<tr>
<td>‘“</td>
<td>跳转到离开该buffer时的光标位置</td>
</tr>
<tr>
<td>‘^</td>
<td>跳转到前一次insert mode退出时的光标位置</td>
</tr>
<tr>
<td>‘.</td>
<td>跳转到最后一次修改的位置</td>
</tr>
<tr>
<td>‘( or ‘)</td>
<td>跳到当前句的起始或结束</td>
</tr>
<tr>
<td>‘{ or ‘}</td>
<td>跳转到当前段落的其实或结束</td>
</tr>
<tr>
<td>‘[0-9]</td>
<td>离线位置栈，0为栈头</td>
</tr>
<tr>
<td>‘[a-z] or ‘[A-Z]</td>
<td>跳转到文件位置标记，其中[a-z]为文件内标记，[A-Z]为文件间标记</td>
</tr>
</tbody>
</table>
<h1 id="插入模式下的快捷键">插入模式下的快捷键</h1>
<p>插入模式下的快捷键没什出奇之处，比如光标移动的指令基本跟Windows默认的没区别：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;C-Home&gt;	<span class="built_in">to</span> start <span class="operator">of</span> <span class="operator">the</span> <span class="built_in">file</span></div><div class="line">&lt;PageUp&gt;	<span class="operator">a</span> <span class="keyword">whole</span> screenful up</div><div class="line">&lt;Home&gt;		<span class="built_in">to</span> start <span class="operator">of</span> <span class="built_in">line</span></div><div class="line">&lt;S-Left&gt;	<span class="constant">one</span> <span class="built_in">word</span> left</div><div class="line">&lt;C-Left&gt;	<span class="constant">one</span> <span class="built_in">word</span> left</div><div class="line">&lt;S-Right&gt;	<span class="constant">one</span> <span class="built_in">word</span> <span class="constant">right</span></div><div class="line">&lt;C-Right&gt;	<span class="constant">one</span> <span class="built_in">word</span> <span class="constant">right</span></div><div class="line">&lt;End&gt;		<span class="built_in">to</span> <span class="function"><span class="keyword">end</span> <span class="title">of</span> <span class="title">the</span> <span class="title">line</span></span></div><div class="line">&lt;PageDown&gt;	<span class="operator">a</span> <span class="keyword">whole</span> screenful down</div><div class="line">&lt;C-End&gt;		<span class="built_in">to</span> <span class="function"><span class="keyword">end</span> <span class="title">of</span> <span class="title">the</span> <span class="title">file</span></span></div></pre></td></tr></table></figure>

<p>删除倒是有点不一样的地方，<code>&lt;C-w&gt;</code>是删除到词首，<code>&lt;C-u&gt;</code>是删除到句首。</p>
<p>补全比较犀利，<code>&lt;C-n&gt;</code>和<code>&lt;C-p&gt;</code>为向后及向前搜索补全。还可以补全特定的文本：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">CTRL-X CTRL-D	complete defined identifiers</div><div class="line">CTRL-X CTRL-F	complete <span class="built_in">file</span> names</div><div class="line">CTRL-X CTRL-I	complete identifiers</div><div class="line">CTRL-X CTRL-K	complete identifiers <span class="built_in">from</span> dictionary</div><div class="line">CTRL-X CTRL-L	complete <span class="keyword">whole</span> <span class="keyword">lines</span></div><div class="line">CTRL-X CTRL-N	next completion</div><div class="line">CTRL-X CTRL-O	omni completion</div><div class="line">CTRL-X CTRL-P	previous completion</div><div class="line">CTRL-X CTRL-S	spelling suggestions</div><div class="line">CTRL-X CTRL-T	complete identifiers <span class="built_in">from</span> thesaurus</div><div class="line">CTRL-X CTRL-U	complete <span class="operator">with</span> <span class="string">'completefunc'</span></div><div class="line">CTRL-X CTRL-V	complete like <span class="operator">in</span> : <span class="command"><span class="keyword">command</span> <span class="title">line</span></span></div><div class="line">CTRL-X CTRL-]	complete tags</div><div class="line">CTRL-X s	spelling suggestions</div></pre></td></tr></table></figure>

<p>另外，<code>&lt;C-x C-o&gt;</code>是万能补全，用于补全源码。自带的补全就已经很厉害了。</p>
<p><code>&lt;C-k&gt;</code>可以写入特殊按键名，如<code>&lt;F4&gt;``&lt;BS&gt;``&lt;F21&gt;``&lt;F21&gt;``&lt;Insert&gt;``&lt;Del&gt;``&lt;Home&gt;``&lt;PageUp&gt;``&lt;PageDown&gt;``&lt;End&gt;``&lt;Up&gt;``&lt;Down&gt;``&lt;Left&gt;``&lt;Right&gt;``&lt;F5&gt;</code>这些。。。</p>
<p><code>&lt;C-a&gt;</code>为重复上一次插入模式下输入的内容。<code>&lt;C-y&gt;</code>为输入光标上方的字符，这个指令比较清新啊；<code>&lt;C-e&gt;</code>插入光标下方的字符。<code>&lt;C-r&gt;</code>[r]用于插入寄存器中的内容。</p>
<p>风骚的缩写替换，需要设置：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:iabbrev <span class="keyword">short</span>-<span class="keyword">text</span> <span class="keyword">long</span>-<span class="keyword">text</span></div></pre></td></tr></table></figure>

<p>然后插入模式打个short-text然后按空格就会被替换成long-text。举两个比较好的例子：</p>
<p>这个东西重启是不保存的，要常用的话要写到vimrc文件里面，或者专门写个.vim文件:so之。</p>
<h1 id="键映射指导">键映射指导</h1>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">If you are going <span class="built_in">to</span> map something, you will need <span class="built_in">to</span> choose which key(s) <span class="built_in">to</span> use</div><div class="line"><span class="keyword">for</span> <span class="operator">the</span> {lhs}.  You will have <span class="built_in">to</span> avoid <span class="built_in">keys</span> that are used <span class="keyword">for</span> Vim commands,</div><div class="line">otherwise you would <span class="operator">not</span> be able <span class="built_in">to</span> use those commands anymore.  Here are <span class="operator">a</span> few</div><div class="line">suggestions:</div><div class="line">- Function <span class="built_in">keys</span> &lt;F2&gt;, &lt;F3&gt;, etc..  Also <span class="operator">the</span> shifted <span class="function"><span class="keyword">function</span> <span class="title">keys</span> &lt;<span class="title">S-F1</span>&gt;,</span></div><div class="line">  &lt;S-F2&gt;, etc.  Note that &lt;F1&gt; is already used <span class="keyword">for</span> <span class="operator">the</span> help <span class="command"><span class="keyword">command</span>.</span></div><div class="line">- Meta-<span class="built_in">keys</span> (<span class="operator">with</span> <span class="operator">the</span> ALT key pressed).  Depending <span class="command"><span class="keyword">on</span> <span class="title">your</span> <span class="title">keyboard</span> <span class="title">accented</span></span></div><div class="line">  <span class="keyword">characters</span> may be used <span class="keyword">as</span> well. |:map-alt-<span class="built_in">keys</span>|</div><div class="line">- Use <span class="operator">the</span> <span class="string">'_'</span> <span class="operator">or</span> <span class="string">','</span> <span class="keyword">character</span> <span class="operator">and</span> <span class="keyword">then</span> <span class="keyword">any</span> other <span class="keyword">character</span>.  The <span class="string">"_"</span> <span class="operator">and</span> <span class="string">","</span></div><div class="line">  commands <span class="built_in">do</span> exist <span class="operator">in</span> Vim (see |_| <span class="operator">and</span> |,|), but you probably never use them.</div><div class="line">- Use <span class="operator">a</span> key that is <span class="operator">a</span> synonym <span class="keyword">for</span> another <span class="command"><span class="keyword">command</span>.  <span class="title">For</span> <span class="title">example</span>: <span class="title">CTRL-P</span> <span class="title">and</span></span></div><div class="line">  CTRL-N.  Use <span class="operator">an</span> extra <span class="keyword">character</span> <span class="built_in">to</span> allow more mappings.</div><div class="line">- The key defined <span class="keyword">by</span> &lt;Leader&gt; <span class="operator">and</span> <span class="constant">one</span> <span class="operator">or</span> more other <span class="built_in">keys</span>.  This is especially</div><div class="line">  useful <span class="operator">in</span> scripts. |mapleader|</div><div class="line"></div><div class="line">See <span class="operator">the</span> <span class="built_in">file</span> <span class="string">"index"</span> <span class="keyword">for</span> <span class="built_in">keys</span> that are <span class="operator">not</span> used <span class="operator">and</span> thus can be mapped <span class="keyword">without</span></div><div class="line">losing <span class="keyword">any</span> builtin <span class="function"><span class="keyword">function</span>.  <span class="title">You</span> <span class="title">can</span> <span class="title">also</span> <span class="title">use</span> <span class="string">":help {key}^D"</span> <span class="title">to</span> <span class="title">find</span> <span class="title">out</span> <span class="title">if</span></span></div><div class="line"><span class="operator">a</span> key is used <span class="keyword">for</span> some <span class="command"><span class="keyword">command</span>.  ({<span class="title">key</span>} <span class="title">is</span> <span class="title">the</span> <span class="title">specific</span> <span class="title">key</span> <span class="title">you</span> <span class="title">want</span> <span class="title">to</span> <span class="title">find</span></span></div><div class="line">out about, ^D is CTRL-D).</div></pre></td></tr></table></figure>



<p>键映射种类：</p>
<ul>
<li>:map普通、可视及操作符模式</li>
<li>:vmap可视模式</li>
<li>:nmap普通模式</li>
<li>:omap操作符模式</li>
<li>:map!插入和命令模式</li>
<li>:imap插入模式</li>
<li>:cmap命令行模式</li>
</ul>
<p>注：map前面加”nore”表示无嵌套映射，即对映射内容中已定义另外的映射的命令不进行映射展开；map前加”un”表示取消映射</p>
<h1 id="&lt;c-a&gt;和&lt;c-x&gt;"><code>&lt;c-a&gt;</code>和<code>&lt;c-x&gt;</code></h1>
<p> vim的普通模式下，<code>&lt;c-a&gt;</code>和<code>&lt;c-x&gt;</code>可以分别对数值进行加1和减1，而且可以带数字前缀的。</p>
<p>这个非常犀利，可以作为键盘宏的参数用来生成很多固定格式文本序列。像是：</p>
<pre><code>  dat<span class="built_in">a_reg0</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg1</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg2</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg3</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg4</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg5</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg6</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg7</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg8</span> &lt;= ***<span class="comment">;</span>
  dat<span class="built_in">a_reg9</span> &lt;= ***<span class="comment">;</span>
</code></pre><p>这种代码序列简直就是so easy。</p>
<p>但是我在用的时候有出了一个问题，就是数值是00这个格式的时候，加到07之后再按<code>&lt;c-a&gt;</code>会变成10而不是08，是把这个格式当作是8进制的了。</p>
<p>查了下文档发现这个是nrformats这个参数的配置问题——nrformats这个参数决定了<code>&lt;c-a&gt;</code>和<code>&lt;c-x&gt;</code>操作是按那个数制来做加减的。这个参数里面默认带的是”otcal,hex”，就是8进制和16进制的，会把0开头的认为是8进制，0x开头的认为是16进制。其实16进制的还是蛮有用的，8进制的就基本用不到了。</p>
<p>nrformats这个参数里面还可以添加的一个是”alpha”，会对单个字母做加减操作，这个也非常有用啊。</p>
<p>所以用的时候可以这样配置：</p>
<pre><code>  <span class="keyword">set</span> nrformats-=otcal
  <span class="keyword">set</span> nrformats+=alpha
</code></pre><h1 id="ctags">ctags</h1>
<p>vim的ctags是默认支持verilog的，屌爆了。。。</p>
<p>taglist里面使用的ctags的路径不能有空格，不然会报错，然后我就把ctags.exe移到e盘根目录，然后设置taglist的命令目录：</p>
<pre><code><span class="built_in">let</span> Tlist_Ctags_Cmd=<span class="string">'E:\ctags.exe'</span>
</code></pre><p>这样taglist就能正常使用了。</p>
<h1 id="查看vim选项参数">查看vim选项参数</h1>
<p>要查看vim的选项参数的值，其格式为：</p>
<pre><code><span class="operator"><span class="keyword">set</span> &lt;<span class="keyword">option</span>&gt;?</span>
</code></pre><p>就是要在最后面加一个问号来参看这个选项的值，这个还是蛮有用的。</p>
<h1 id="缓存寄存器">缓存寄存器</h1>
<p>缓存寄存器其实还是比较复杂的，其实除了a-z之外都是自动生成的，然后作用又是各不相同。</p>
<p>文档里面直接把这些寄存器分成了9类：</p>
<ul>
<li>字母寄存器    [a-zA-Z]<br>字母寄存器的用法最直接，是用”[a-zA-Z]{motion}这种格式来，是用来存取文本的。可以用a-z和A-Z，但是这里指的其实不是52个寄存器而是26个寄存器。用小写寄存器每次都是直接用新文本覆盖，而用大写寄存器是每次用新文本追加到寄存器里面，这个比较有用，可以用来收集不同地方的文本然后集合到一起。<br>之前都没注意的很重要的命令——“:registers/:display”，这个可以显示出非空寄存器里面的内容。非空其实是针对字母寄存器而言的，因为其他寄存器都是存了东西的。<br>用用这个命令其实就能发现小写寄存器和大写寄存器是同一个寄存器。而且，宏寄存器跟文本寄存器是同一个寄存器。</li>
<li>数字寄存器    [0-9]<br>就是0-9，其实这里0跟1-9还是有点不一样的。0寄存器是保存最后一次复制(yank)操作的内容，1-9寄存器则是删除或修改操作的缓存队列，1为入口，9为出口。<br>另外，在指定了字母寄存器的操作是不会改变数字寄存器的内容的，而且删除操作的范围必须是要一行以上。<br>vim里面的复制还有删除操作是非常频繁的，所以要想用好数字寄存器的话要经常使用查看寄存器的命令。</li>
<li>无名寄存器    “<br>双引号寄存器，也是默认寄存器。每次删除和复制操作都会把内容覆盖到这个寄存器里面，而且这个是不管你有没有用字母寄存器指定你的这些操作。</li>
<li>短删除寄存器    -<br>缓存一行以内删除操作的文本，而且是没用字母寄存器指定的删除操作。</li>
<li>只读寄存器    :.%#<br>[.]用于保存最后一次插入模式下插入的文本，但是不能在命令行里面用CTRL-R导出；[%]保存当前文件的文件名；[#]保存轮换(alternate)文件名；[:]保存最近用过的命令，可以用”@:”再次使用。</li>
<li>表达式寄存器    =<br>文档有说的很不清楚，不管了。</li>
<li>选择和拖放寄存器    *+~<br>[*]和[+]用于剪切板操作，[~]用于拖放操作。</li>
<li>黑洞寄存器    _<br>用于彻底销毁文本，只用于删除操作，类似于shift+del。</li>
<li>搜索寄存器 \<br>用于存放最后一次搜索命令里面的文本。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2014/01/14/note_vim/manual_note/" data-id="djrkfid9vg5080y4" class="article-share-link" data-share="baidu">Share</a>
      

      

      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/01/16/note_fpga/fsm_issue/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          状态机要注意异步输入信号
        
      </div>
    </a>
  
  
    <a href="/2014/01/11/note_fpga/begin_end/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">begin-end还是有用的</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">August 2011</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/08/27/note_emacs/writing_verilog/">我的Verilog HDL代码快速编辑环境</a>
          </li>
        
          <li>
            <a href="/2015/08/28/note_others/perl_notes_on_learning_perl/">《Learning PERL》笔记</a>
          </li>
        
          <li>
            <a href="/2015/08/27/note_asic/uvm_factory/">UVM源码探索之Factory(上篇)</a>
          </li>
        
          <li>
            <a href="/2015/07/27/note_asic/makefile_ext/">Verification匠心</a>
          </li>
        
          <li>
            <a href="/2014/10/27/note_fpga/readmem/">$readmem是可综合的</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://github.com/zhouchuanrui" target="_blank">github</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Mr.Zhou<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"nocss.css"}};with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>



<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>